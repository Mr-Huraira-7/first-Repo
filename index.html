<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tasbih Counter</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@500;700;800&family=Noto+Naskh+Arabic:wght@600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              body: ["Manrope", "sans-serif"],
              arabic: ["Noto Naskh Arabic", "serif"],
            },
            colors: {
              brand: {
                400: "#38bdf8",
                500: "#0ea5e9",
                700: "#0369a1",
              },
              accent: {
                400: "#34d399",
                500: "#10b981",
              },
            },
          },
        },
      };
    </script>
    <style>
      :root {
        --glass-border: rgba(255, 255, 255, 0.3);
      }

      .islamic-bg {
        background: radial-gradient(circle at 16% 20%, rgba(250, 204, 21, 0.24), transparent 35%),
          radial-gradient(circle at 84% 78%, rgba(16, 185, 129, 0.24), transparent 42%),
          linear-gradient(145deg, #0f3f4b, #115e59 55%, #0f766e);
      }

      .pattern-overlay {
        opacity: 0.32;
        background-image: linear-gradient(
            30deg,
            rgba(255, 255, 255, 0.11) 12%,
            transparent 12.5%,
            transparent 87%,
            rgba(255, 255, 255, 0.11) 87.5%
          ),
          linear-gradient(
            150deg,
            rgba(255, 255, 255, 0.11) 12%,
            transparent 12.5%,
            transparent 87%,
            rgba(255, 255, 255, 0.11) 87.5%
          );
        background-size: 46px 46px;
      }

      .glass-panel {
        background: linear-gradient(145deg, rgba(255, 255, 255, 0.24), rgba(255, 255, 255, 0.1));
        border: 1px solid var(--glass-border);
        box-shadow: 0 24px 56px -24px rgba(2, 12, 28, 0.68), inset 0 1px 0 rgba(255, 255, 255, 0.4);
      }

      .glass-block {
        background: linear-gradient(145deg, rgba(255, 255, 255, 0.22), rgba(255, 255, 255, 0.09));
        border: 1px solid rgba(255, 255, 255, 0.28);
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.34);
      }

      .control-btn {
        background: rgba(255, 255, 255, 0.13);
        border: 1px solid rgba(255, 255, 255, 0.36);
        color: #e2e8f0;
      }

      .control-btn:hover {
        background: rgba(255, 255, 255, 0.24);
      }

      .control-btn-primary {
        background: linear-gradient(130deg, rgba(250, 204, 21, 0.95), rgba(16, 185, 129, 0.9));
        border: 1px solid rgba(254, 249, 195, 0.95);
        color: #083344;
        box-shadow: 0 14px 24px -14px rgba(250, 204, 21, 0.85);
      }

      .control-btn-primary:hover {
        filter: brightness(1.03);
      }

      .goal-chip,
      .zikr-chip {
        background: rgba(255, 255, 255, 0.12);
        border: 1px solid rgba(255, 255, 255, 0.34);
        color: #ecfeff;
      }

      .goal-chip:hover,
      .zikr-chip:hover {
        background: rgba(255, 255, 255, 0.23);
      }

      .goal-btn-active,
      .zikr-btn-active {
        background: linear-gradient(130deg, rgba(250, 204, 21, 0.95), rgba(16, 185, 129, 0.9));
        border-color: rgba(254, 249, 195, 0.95);
        color: #083344;
        box-shadow: 0 12px 20px -14px rgba(250, 204, 21, 0.9);
      }

      .arabic-text {
        font-family: "Noto Naskh Arabic", serif;
        direction: rtl;
        line-height: 1.45;
      }
    </style>
  </head>
  <body class="islamic-bg relative min-h-screen overflow-hidden p-4 font-body text-slate-100 sm:p-6">
    <div class="pattern-overlay pointer-events-none absolute inset-0"></div>

    <main class="relative z-10 mx-auto flex min-h-[calc(100vh-2rem)] max-w-xl items-center">
      <section class="glass-panel w-full rounded-[2rem] p-6 backdrop-blur-2xl sm:p-8">
        <header class="text-center">
          <p class="text-sm font-bold uppercase tracking-[0.24em] text-amber-100">Digital Tasbih</p>
          <h1 class="mt-2 text-5xl font-extrabold text-white sm:text-6xl">Zikr Counter</h1>
          <p class="mt-2 text-sm font-semibold text-cyan-50/90">Clean UI with instant response</p>
        </header>

        <div class="glass-block mt-6 rounded-3xl p-4">
          <p class="text-center text-xs font-semibold uppercase tracking-[0.14em] text-cyan-50/90">
            Tasbih Select
          </p>
          <div class="mt-3 grid gap-2 sm:grid-cols-3">
            <button
              data-zikr-en="SubhanAllah"
              data-zikr-ar="سُبْحَانَ ٱللَّٰهِ"
              class="zikr-btn zikr-chip touch-manipulation rounded-2xl px-3 py-3 text-center text-sm font-bold transition hover:-translate-y-0.5"
            >
              <span class="arabic-text block text-xl font-semibold">سُبْحَانَ ٱللَّٰهِ</span>
              <span class="mt-1 block text-xs text-cyan-50/90">SubhanAllah</span>
            </button>
            <button
              data-zikr-en="Alhamdulillah"
              data-zikr-ar="ٱلْحَمْدُ لِلَّٰهِ"
              class="zikr-btn zikr-chip touch-manipulation rounded-2xl px-3 py-3 text-center text-sm font-bold transition hover:-translate-y-0.5"
            >
              <span class="arabic-text block text-xl font-semibold">ٱلْحَمْدُ لِلَّٰهِ</span>
              <span class="mt-1 block text-xs text-cyan-50/90">Alhamdulillah</span>
            </button>
            <button
              data-zikr-en="Allahu Akbar"
              data-zikr-ar="ٱللَّٰهُ أَكْبَرُ"
              class="zikr-btn zikr-chip touch-manipulation rounded-2xl px-3 py-3 text-center text-sm font-bold transition hover:-translate-y-0.5"
            >
              <span class="arabic-text block text-xl font-semibold">ٱللَّٰهُ أَكْبَرُ</span>
              <span class="mt-1 block text-xs text-cyan-50/90">Allahu Akbar</span>
            </button>
          </div>
        </div>

        <div class="glass-block mt-4 rounded-3xl p-5 text-center">
          <p class="text-xs font-semibold uppercase tracking-[0.14em] text-cyan-50/90">Current Tasbih</p>
          <p id="zikrArabic" class="arabic-text mt-2 text-4xl font-bold text-amber-100">
            سُبْحَانَ ٱللَّٰهِ
          </p>
          <p id="zikrEnglish" class="mt-1 text-sm font-semibold text-cyan-50/90">SubhanAllah</p>
        </div>

        <div class="glass-block mt-4 rounded-3xl p-5 text-center">
          <p class="text-sm font-semibold uppercase tracking-[0.14em] text-cyan-50/90">Current Count</p>
          <p id="count" class="mt-2 text-7xl font-black tabular-nums text-amber-100 transition">0</p>
          <p id="statusText" class="mt-1 text-xs font-semibold text-emerald-100/90">33 remaining</p>
        </div>

        <div class="mt-6 grid grid-cols-2 gap-3">
          <button
            id="decreaseBtn"
            class="control-btn touch-manipulation rounded-2xl px-4 py-3 text-lg font-extrabold transition hover:-translate-y-0.5"
          >
            -1
          </button>
          <button
            id="increaseBtn"
            class="control-btn-primary touch-manipulation rounded-2xl px-4 py-3 text-lg font-extrabold transition hover:-translate-y-0.5"
          >
            +1
          </button>
          <button
            id="resetBtn"
            class="control-btn touch-manipulation col-span-2 rounded-2xl border-dashed px-4 py-3 text-lg font-extrabold transition hover:bg-white/20"
          >
            Reset
          </button>
        </div>

        <div class="glass-block mt-6 rounded-3xl p-4">
          <div class="flex items-center justify-between text-sm font-bold text-cyan-50/90">
            <span>Goal: <span id="goalText">33</span></span>
            <span><span id="progressText">0</span>%</span>
          </div>
          <div class="mt-3 h-3 overflow-hidden rounded-full bg-white/20">
            <div
              id="progressBar"
              class="h-full w-0 rounded-full bg-gradient-to-r from-amber-300 via-brand-500 to-accent-500 transition-all duration-200"
            ></div>
          </div>
          <div class="mt-4 grid grid-cols-3 gap-2">
            <button
              data-goal="33"
              class="goal-btn goal-chip touch-manipulation rounded-xl px-3 py-2 text-sm font-extrabold transition hover:-translate-y-0.5"
            >
              33
            </button>
            <button
              data-goal="99"
              class="goal-btn goal-chip touch-manipulation rounded-xl px-3 py-2 text-sm font-extrabold transition hover:-translate-y-0.5"
            >
              99
            </button>
            <button
              data-goal="100"
              class="goal-btn goal-chip touch-manipulation rounded-xl px-3 py-2 text-sm font-extrabold transition hover:-translate-y-0.5"
            >
              100
            </button>
          </div>
        </div>
      </section>
    </main>

    <script>
      const countEl = document.getElementById("count");
      const progressBar = document.getElementById("progressBar");
      const progressText = document.getElementById("progressText");
      const goalText = document.getElementById("goalText");
      const statusText = document.getElementById("statusText");
      const zikrArabicEl = document.getElementById("zikrArabic");
      const zikrEnglishEl = document.getElementById("zikrEnglish");
      const goalButtons = document.querySelectorAll(".goal-btn");
      const zikrButtons = document.querySelectorAll(".zikr-btn");

      let count = 0;
      let goal = 33;
      let selectedZikrAr = "سُبْحَانَ ٱللَّٰهِ";
      let selectedZikrEn = "SubhanAllah";

      function animateCounter() {
        countEl.animate(
          [
            { transform: "scale(0.95)" },
            { transform: "scale(1.03)" },
            { transform: "scale(1)" },
          ],
          { duration: 130, easing: "ease-out" }
        );
      }

      function animateLimit() {
        countEl.animate(
          [
            { transform: "translateX(0)" },
            { transform: "translateX(-4px)" },
            { transform: "translateX(4px)" },
            { transform: "translateX(0)" },
          ],
          { duration: 120, easing: "ease-out" }
        );
      }

      function updateUI() {
        countEl.textContent = count;
        goalText.textContent = goal;

        const progress = Math.min(Math.round((count / goal) * 100), 100);
        const remaining = Math.max(goal - count, 0);

        progressText.textContent = progress;
        progressBar.style.width = `${progress}%`;
        statusText.textContent =
          remaining === 0 ? "Goal complete, MashaAllah!" : `${remaining} remaining`;

        zikrArabicEl.textContent = selectedZikrAr;
        zikrEnglishEl.textContent = selectedZikrEn;

        goalButtons.forEach((btn) => {
          const isActive = Number(btn.dataset.goal) === goal;
          btn.classList.toggle("goal-btn-active", isActive);
        });

        zikrButtons.forEach((btn) => {
          const isActive = btn.dataset.zikrAr === selectedZikrAr;
          btn.classList.toggle("zikr-btn-active", isActive);
        });
      }

      function bindInstantPress(element, action) {
        element.addEventListener("pointerdown", (event) => {
          if (event.button !== undefined && event.button !== 0) return;
          event.preventDefault();
          action();
        });

        element.addEventListener("keydown", (event) => {
          if (event.repeat) return;
          if (event.key === "Enter" || event.key === " ") {
            event.preventDefault();
            action();
          }
        });
      }

      bindInstantPress(document.getElementById("increaseBtn"), () => {
        if (count >= goal) {
          animateLimit();
          return;
        }
        count += 1;
        updateUI();
        animateCounter();
      });

      bindInstantPress(document.getElementById("decreaseBtn"), () => {
        if (count === 0) return;
        count -= 1;
        updateUI();
        animateCounter();
      });

      bindInstantPress(document.getElementById("resetBtn"), () => {
        if (count === 0) return;
        count = 0;
        updateUI();
        animateCounter();
      });

      goalButtons.forEach((btn) => {
        bindInstantPress(btn, () => {
          goal = Number(btn.dataset.goal);
          if (count > goal) count = goal;
          updateUI();
        });
      });

      zikrButtons.forEach((btn) => {
        bindInstantPress(btn, () => {
          selectedZikrAr = btn.dataset.zikrAr;
          selectedZikrEn = btn.dataset.zikrEn;
          updateUI();
        });
      });

      updateUI();
    </script>
  </body>
</html>
